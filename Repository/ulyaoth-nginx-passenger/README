This contains all required materials to build the ulyaoth-nginx-passenger rpm.

Current versions:
Nginx Version: 1.6.0
Passenger Version: 4.0.45
OS: Fedora 20

While it might work on other linux versions you probably will have problems with the passenger binaries found in the SOURCE folder.

How to Build:
I personally use a clean build server and a seperate user to build so don't build as root.

Copy the folder "nginx" that you find in "etc" into your linux build server /etc so you have /etc/nginx/

copy the "rpmbuild" folder to a specific build user so for example if you use the user ulyaoth then copy it to his home folder so you finally end up with "/home/ulyaoth/rpmbuild"

You might need to run first this command:
rpmdev-setuptree

and then copy the github stuff since github cannot handle empty folders the structure is not correct you should end up with this:
[ulyaoth@localhost rpmbuild]$ pwd
/home/ulyaoth/rpmbuild
[ulyaoth@localhost rpmbuild]$ ls
BUILD  BUILDROOT  RPMS  SOURCES  SPECS  SRPMS

How to create a user/group:
useradd ulyaoth
usermod -a -G ulyaoth ulyaoth
usermod -G wheel ulyaoth

sudo chown -R ulyaoth:ulyaoth /etc/nginx/

Make ofcourse sure you have the rpmbuild tools installed!
For Fedora this is: 
sudo yum install @development-tools
sudo yum install fedora-packager ruby ruby-devel curl-devel openssl openssl-devel
gem install passenger

Once this is done then go into the rpmbuild/SPECS folder and run the following commands:
sudo yum-builddep nginx.spec
rpmbuild -bb nginx.spec
You should now end up with a rpm that has passenger included, if you builded on the server you will install this you have to removed the /etc/nginx directory before installing it as this only contains the source code for passenger.

I got the original spec file from the Nginx official website and used their source rpm, I got passenger simpely from running "gem install passenger". 
So i take no credit in developing those products I simpely created a up to date rpm for nginx and passenger by altering the spec file from nginx source rpm.

